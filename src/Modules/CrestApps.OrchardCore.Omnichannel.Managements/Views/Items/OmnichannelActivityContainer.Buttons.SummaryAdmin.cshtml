@using CrestApps.OrchardCore.Omnichannel.Core
@using CrestApps.OrchardCore.Omnichannel.Core.Models
@using Microsoft.AspNetCore.Authorization
@using OrchardCore.DisplayManagement.Views

@model ShapeViewModel<OmnichannelActivityContainer>

@inject IAuthorizationService AuthorizationService

@if (await AuthorizationService.AuthorizeAsync(User, OmnichannelConstants.Permissions.ListContactActivities, Model.Value.Contact))
{
    <a class="btn btn-sm btn-secondary" asp-action="List" asp-controller="Activities" asp-route-contentItemId="@Model.Value.Contact.ContentItemId" asp-area="@OmnichannelConstants.Features.Managements">@T["List Activities"]</a>
}

@if (await AuthorizationService.AuthorizeAsync(User, OmnichannelConstants.Permissions.ProcessActivity, Model.Value))
{
    <a asp-action="Process"
       asp-route-id="@Model.Value.Activity.Id"
       class="btn btn-success btn-sm">@T["Process"]</a>
}
