@using CrestApps.OrchardCore.AI.Mcp.ViewModels
@using OrchardCore

@model McpResourceFieldsViewModel

<div class="@Orchard.GetWrapperClasses()">
    <label asp-for="DisplayText" class="@Orchard.GetLabelClasses()">@T["Display Text"]</label>
    <div class="@Orchard.GetEndClasses()">
        <input type="text" asp-for="DisplayText" class="form-control" />
        <span asp-validation-for="DisplayText" class="text-danger"></span>
        <span class="hint">@T["A friendly name to identify this resource in the admin interface."]</span>
    </div>
</div>

<div class="@Orchard.GetWrapperClasses()">
    <label asp-for="Name" class="@Orchard.GetLabelClasses()">@T["Name"]</label>
    <div class="@Orchard.GetEndClasses()">
        <input type="text" asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
        <span class="hint">@T["A human-readable name for the resource."]</span>
    </div>
</div>

<div class="@Orchard.GetWrapperClasses()">
    <label asp-for="Path" class="@Orchard.GetLabelClasses()">@T["URI"]</label>
    <div class="@Orchard.GetEndClasses()">
        <div class="input-group">
            @if (Model.IsNew)
            {
                <span class="input-group-text"><code>@(Model.Source)://{itemId}/</code></span>
            }
            else
            {
                <span class="input-group-text"><code>@(Model.Source)://@(Model.McpPromptItemId)/</code></span>
            }
            <input type="text" asp-for="Path" class="form-control" />
        </div>
        <span asp-validation-for="Path" class="text-danger"></span>
        @if (Model.UriPatterns?.Length > 0)
        {
            <span class="hint">@T["Provide the path portion of the URI. Supported patterns:"]</span>
            <ul class="hint list-unstyled ms-3 mb-0">
                @foreach (var pattern in Model.UriPatterns)
                {
                    <li><code>@pattern</code></li>
                }
            </ul>
        }
        else
        {
            <span class="hint">@T["Provide the path portion of the resource URI."]</span>
        }
    </div>
</div>

<div class="@Orchard.GetWrapperClasses()">
    <label asp-for="Description" class="@Orchard.GetLabelClasses()">@T["Description"]</label>
    <div class="@Orchard.GetEndClasses()">
        <textarea asp-for="Description" class="form-control" rows="3"></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>
        <span class="hint">@T["A description of what this resource provides."]</span>
    </div>
</div>

<div class="@Orchard.GetWrapperClasses()">
    <label asp-for="MimeType" class="@Orchard.GetLabelClasses()">@T["MIME Type"]</label>
    <div class="@Orchard.GetEndClasses()">
        <input type="text" asp-for="MimeType" class="form-control" placeholder="text/plain" />
        <span asp-validation-for="MimeType" class="text-danger"></span>
        <span class="hint">@T["The MIME type of the resource content (e.g., text/plain, application/json)."]</span>
    </div>
</div>

<script asp-name="technical-name-generator"></script>
<script at="Foot" depends-on="technical-name-generator">
    window.initAutoGenerateTechnicalName('@Html.IdFor(x => x.DisplayText)', '@Html.IdFor(x => x.Name)');
</script>
