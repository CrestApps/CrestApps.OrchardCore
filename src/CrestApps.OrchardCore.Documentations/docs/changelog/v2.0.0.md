---
sidebar_label: 2.0.0 Release Notes
sidebar_position: 1
title: "Version 2.0.0 Release Notes"
description: Release notes for CrestApps.OrchardCore 2.0.0 — new modules, breaking changes, and migration guide.
---

# Version 2.0.0 Release Notes

**Package version**: `2.0.0-preview-0001`

This is a major release that introduces new modules, an orchestrator-based architecture, Omnichannel Communications, expanded MCP protocol support, and document handling capabilities.

---

## New Modules

### AI Chat Interactions

- **Feature ID**: `CrestApps.OrchardCore.AI.Chat.Interactions`
- Provides ad-hoc chat sessions with configurable parameters — users can adjust model settings, attach documents, upload images, and generate charts without requiring a predefined AI profile.

### AI Chat Copilot Integration

- **Feature ID**: `CrestApps.OrchardCore.AI.Chat.Copilot`
- Integrates with the GitHub Copilot SDK to provide a Copilot-based orchestrator for AI completions.

### AI Documents

A suite of modules for document upload, text extraction, and embedding during chat sessions:

| Module | Feature ID |
|--------|------------|
| AI Documents (Core) | `CrestApps.OrchardCore.AI.Documents` |
| PDF Support | `CrestApps.OrchardCore.AI.Documents.Pdf` |
| OpenXml Support (Word, Excel, PowerPoint) | `CrestApps.OrchardCore.AI.Documents.OpenXml` |
| Azure AI Search | `CrestApps.OrchardCore.AI.Documents.AzureAI` |
| Elasticsearch | `CrestApps.OrchardCore.AI.Documents.Elasticsearch` |

### AI Data Sources

Modules for RAG (Retrieval-Augmented Generation) and knowledge base indexing:

| Module | Feature ID |
|--------|------------|
| AI Data Sources (Core) | `CrestApps.OrchardCore.AI.DataSources` |
| Azure AI Search | `CrestApps.OrchardCore.AI.DataSources.AzureAI` |
| Elasticsearch | `CrestApps.OrchardCore.AI.DataSources.Elasticsearch` |

### MCP Resource Adapters

| Module | Feature ID |
|--------|------------|
| FTP Resources | `CrestApps.OrchardCore.AI.Mcp.Resources.Ftp` |
| SFTP Resources | `CrestApps.OrchardCore.AI.Mcp.Resources.Sftp` |

### Omnichannel Communications

A new suite of modules for multi-channel communication:

| Module | Feature ID | Description |
|--------|------------|-------------|
| Omnichannel (Core) | `CrestApps.OrchardCore.Omnichannel` | Core omnichannel services |
| SMS | `CrestApps.OrchardCore.Omnichannel.Sms` | AI-driven SMS automation with Twilio |
| Event Grid | `CrestApps.OrchardCore.Omnichannel.EventGrid` | Azure Event Grid webhook integration |
| Management | `CrestApps.OrchardCore.Omnichannel.Managements` | Contact and conversation management |

### Recipes Module

- **Feature ID**: `CrestApps.OrchardCore.Recipes`
- Provides recipe steps for configuring CrestApps modules via recipes.

---

## New Features in Existing Modules

### AI Services (`CrestApps.OrchardCore.AI`)

- **Orchestrator Architecture** — The new `IOrchestrator` interface replaces the previous prompt routing system. The orchestrator manages planning, tool scoping, and iterative agent execution loops.
- **AI Tool Registration** — New fluent API for registering AI tools with `.AddAITool<T>()`, supporting categories, purposes, and selectable/system tool modes.
- **AI Profile Types** — Added `Utility` and `TemplatePrompt` profile types in addition to `Chat`.
- **AI Deployments** — New feature for managing AI model deployments.
- **AI Connection Management** — UI for managing provider connections from the admin dashboard.
- **AI Chat WebAPI** — RESTful API endpoints for interacting with AI chat.
- **Workflow Integration** — AI Completion tasks for Orchard Core Workflows.

### MCP (`CrestApps.OrchardCore.AI.Mcp`)

- **MCP Server** — Expose your Orchard Core site as an MCP server endpoint, allowing external AI agents to discover and use your tools, prompts, and resources.
- **MCP Prompts and Resources** — Prompts and resources can be added and managed via the admin UI.
- **Templated Resources** — Support for dynamic MCP resources defined with URI templates.
- **Stdio Transport** — Connect to local MCP servers (e.g., Docker containers) via Standard Input/Output.

### AI Agent (`CrestApps.OrchardCore.AI.Agent`)

- Expanded toolset with 30+ built-in tools covering content management, tenant management, feature toggles, workflow automation, and communication tasks.

---

## Breaking Changes

### Removed: Prompt Routing and Intent Detection

The following APIs and patterns have been **removed** in v2.0.0:

- `AddPromptProcessingIntent`
- `IPromptIntentDetector`
- `AddPromptRoutingServices`
- `AddDefaultPromptProcessingStrategies`
- `IPromptProcessingStrategy`
- `IntentProcessingResult` / `IntentProcessingContext`
- `DocumentIntents`

**Migration**: Replace all prompt routing logic with the new `IOrchestrator` pattern. The orchestrator automatically handles tool selection, document processing, and multi-step execution. See [Consuming AI Services](../ai/consuming-ai-services) for details.

### Changed: Navigation Paths

Orchard Core v3 removed the **Configuration** tab. Update any documentation or code that references:

- `Configuration → Features` → Use **Tools → Features**
- `Configuration → Settings` → Use **Settings** directly

### Changed: Package Version Scheme

Package versions now use the `2.0.0-preview-XXXX` scheme instead of `2.0.0-beta-XXXX`.

---

## Migration Guide from v1.x

### Step 1: Update Package References

Update all CrestApps package references to `2.0.0-preview-0001` or later:

```xml
<PackageReference Include="CrestApps.OrchardCore.Cms.Core.Targets" Version="2.0.0-preview-0001" />
```

### Step 2: Remove Prompt Routing Code

If you used `AddPromptProcessingIntent`, `IPromptIntentDetector`, or `IPromptProcessingStrategy`, remove these references. The orchestrator now handles all request processing automatically.

### Step 3: Update Tool Registrations

If you registered custom AI tools, update to the new fluent API:

```csharp
// Old (v1.x)
// services.AddSingleton<AIFunction, MyTool>();

// New (v2.0)
services.AddAITool<MyTool>(MyTool.TheName)
    .WithTitle("My Tool")
    .WithDescription("Description for the orchestrator")
    .Selectable();
```

### Step 4: Enable New Features

New modules are not enabled by default. Enable them via **Tools → Features** in the admin dashboard as needed.
